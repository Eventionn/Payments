{
  "openapi": "3.0.0",
  "info": {
    "title": "Payments API",
    "version": "1.0.0",
    "description": "API for managing Payments."
  },
  "servers": [
    {
      "url": "http://localhost:5004/api",
      "description": "Local server"
    }
  ],
  "paths": {
    "/payments": {
      "get": {
        "summary": "Get all Payments",
        "operationId": "getAllPayments",
        "tags": ["Payments"],
        "responses": {
          "200": {
            "description": "List of Payments",
            "content": {
              "application/json": {
                "example": [
                  {
                    "paymentID": "1a2b3c4d-5678-90ab-cdef-1234567890ab",
                    "totalValue": 100.50,
                    "paymentType": "Credit Card",
                    "paymentStatusID": "2b3c4d5e-6f7a-8901-bcde-f12345678901",
                    "ticketID": "9876543210",
                    "createdAt": "2024-11-18T12:00:00Z"
                  }
                ]
              }
            }
          },
          "404": {
            "description": "No payments found"
          },
          "500": {
            "description": "Internal error while fetching payments"
          }
        }
      },
      "post": {
        "summary": "Create a new Payment",
        "operationId": "createPayment",
        "tags": ["Payments"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": {
                "totalValue": 100.50,
                "paymentType": "Credit Card",
                "paymentStatusID": "2b3c4d5e-6f7a-8901-bcde-f12345678901",
                "ticketID": "9876543210"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Payment created successfully",
            "content": {
              "application/json": {
                "example": {
                  "paymentID": "1a2b3c4d-5678-90ab-cdef-1234567890ab",
                  "totalValue": 100.50,
                  "paymentType": "Credit Card",
                  "paymentStatusID": "1",
                  "ticketID": "9876543210",
                  "createdAt": "2024-11-18T12:00:00Z"
                }
              }
            }
          },
          "400": {
            "description": "Missing required fields"
          },
          "500": {
            "description": "Error creating Payment"
          }
        }
      }
    },
    "/payments/{id}": {
      "get": {
        "summary": "Get a Payment by ID",
        "operationId": "getPaymentById",
        "tags": ["Payments"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "example": "1a2b3c4d-5678-90ab-cdef-1234567890ab"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Payment retrieved successfully",
            "content": {
              "application/json": {
                "example": {
                  "paymentID": "1a2b3c4d-5678-90ab-cdef-1234567890ab",
                  "totalValue": 100.50,
                  "paymentType": "Credit Card",
                  "paymentStatusID": "1",
                  "ticketID": "9876543210",
                  "createdAt": "2024-11-18T12:00:00Z"
                }
              }
            }
          },
          "404": {
            "description": "Payment not found"
          },
          "500": {
            "description": "Error fetching Payment by ID"
          }
        }
      },
      "put": {
        "summary": "Update a Payment",
        "operationId": "updatePayment",
        "tags": ["Payments"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "example": "1a2b3c4d-5678-90ab-cdef-1234567890ab"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": {
                "totalValue": 120.75,
                "paymentType": "Debit Card",
                "paymentStatusID": "2",
                "ticketID": "9876543210"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment updated successfully",
            "content": {
              "application/json": {
                "example": {
                  "paymentID": "1a2b3c4d-5678-90ab-cdef-1234567890ab",
                  "totalValue": 120.75,
                  "paymentType": "Debit Card",
                  "paymentStatusID": "2",
                  "ticketID": "9876543210",
                  "createdAt": "2024-11-18T12:00:00Z"
                }
              }
            }
          },
          "404": {
            "description": "Payment not found"
          },
          "500": {
            "description": "Error updating Payment"
          }
        }
      },
      "delete": {
        "summary": "Delete a Payment",
        "operationId": "deletePayment",
        "tags": ["Payments"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "example": "1a2b3c4d-5678-90ab-cdef-1234567890ab"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Payment deleted successfully"
          },
          "404": {
            "description": "Payment not found"
          },
          "500": {
            "description": "Error deleting Payment"
          }
        }
      }
    },
    "/payments/{id}/cancel": {
      "put": {
        "summary": "Cancel a Payment by updating its status to 'canceled'",
        "operationId": "cancelPayment",
        "tags": ["Payments"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "example": "1a2b3c4d-5678-90ab-cdef-1234567890ab"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Payment canceled successfully, status updated to 'canceled'",
            "content": {
              "application/json": {
                "example": {
                  "paymentID": "1a2b3c4d-5678-90ab-cdef-1234567890ab",
                  "totalValue": 100.50,
                  "paymentType": "Credit Card",
                  "paymentStatusID": "canceled-status-id",  
                  "ticketID": "9876543210",
                  "createdAt": "2024-11-18T12:00:00Z"
                }
              }
            }
          },
          "404": {
            "description": "Payment not found or 'canceled' status not found"
          },
          "500": {
            "description": "Error canceling Payment"
          }
        }
      }
    },
    "/paymentstatus": {
      "get": {
        "summary": "Get all Payment Statuses",
        "operationId": "getAllPaymentStatuses",
        "tags": ["PaymentStatuses"],
        "responses": {
          "200": {
            "description": "List of Payment Statuses",
            "content": {
              "application/json": {
                "example": [
                  {
                    "paymentStatusID": "1",
                    "status": "Paid",
                    "payments": [
                      {
                        "paymentID": "1a2b3c4d-5678-90ab-cdef-1234567890ab",
                        "totalValue": 100.50,
                        "paymentType": "Credit Card"
                      }
                    ]
                  }
                ]
              }
            }
          },
          "404": {
            "description": "No payment statuses found"
          },
          "500": {
            "description": "Internal error while fetching payment statuses"
          }
        }
      },
      "post": {
        "summary": "Create a new Payment Status",
        "operationId": "createPaymentStatus",
        "tags": ["PaymentStatuses"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": {
                "status": "Processing"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Payment status created successfully",
            "content": {
              "application/json": {
                "example": {
                  "paymentStatusID": "2",
                  "status": "Processing"
                }
              }
            }
          },
          "400": {
            "description": "Missing required fields"
          },
          "500": {
            "description": "Error creating Payment Status"
          }
        }
      }
    },
    "/paymentstatus/{id}": {
      "get": {
        "summary": "Get a Payment Status by ID",
        "operationId": "getPaymentStatusById",
        "tags": ["PaymentStatuses"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "example": "1"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Payment status retrieved successfully",
            "content": {
              "application/json": {
                "example": {
                  "paymentStatusID": "1",
                  "status": "Paid",
                  "payments": [
                    {
                      "paymentID": "1a2b3c4d-5678-90ab-cdef-1234567890ab",
                      "totalValue": 100.50,
                      "paymentType": "Credit Card"
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "description": "Payment status not found"
          },
          "500": {
            "description": "Error fetching Payment Status by ID"
          }
        }
      },
      "put": {
        "summary": "Update a Payment Status",
        "operationId": "updatePaymentStatus",
        "tags": ["PaymentStatuses"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "example": "1"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "example": {
                "status": "Completed"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment status updated successfully",
            "content": {
              "application/json": {
                "example": {
                  "paymentStatusID": "1",
                  "status": "Completed"
                }
              }
            }
          },
          "404": {
            "description": "Payment status not found"
          },
          "500": {
            "description": "Error updating Payment Status"
          }
        }
      },
      "delete": {
        "summary": "Delete a Payment Status",
        "operationId": "deletePaymentStatus",
        "tags": ["PaymentStatuses"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "example": "1"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Payment status deleted successfully"
          },
          "404": {
            "description": "Payment status not found"
          },
          "500": {
            "description": "Error deleting Payment Status"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Payment": {
        "type": "object",
        "properties": {
          "paymentID": {
            "type": "string",
            "example": "1a2b3c4d-5678-90ab-cdef-1234567890ab"
          },
          "totalValue": {
            "type": "number",
            "example": 100.50
          },
          "paymentType": {
            "type": "string",
            "example": "Credit Card"
          },
          "paymentStatusID": {
            "type": "string",
            "example": "1"
          },
          "ticketID": {
            "type": "string",
            "example": "9876543210"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2024-11-18T12:00:00Z"
          }
        }
      }
    }
  }
}
